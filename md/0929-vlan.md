# VLAN, VPN 등 네트워크 보안 개념

VLAN과 VPN의 강의 노트 및 개인 공부 기록을 공유합니다.  
네트워크에 대해 얕고 빠르게 훑는 느낌이 들어서, 스스로 부족하거나 궁금한 부분은 추가로 조사했습니다.

---

## 1. VLAN (Virtual Local Area Network)

### 정의
- 하나의 물리적 네트워크를 **논리적으로 여러 개**로 나누는 기술
- 같은 스위치에 연결되어 있어도 **서로 다른 VLAN**에 있으면 **통신 불가**
- 비유: 한 건물 안에 여러 회사가 입주하여 서로 **교류를 못하도록 하는 구조**

### 특징
- **논리적 분리**: 물리적으로 같은 스위치여도 다른 VLAN이면 통신 불가
- **보안 강화**: 부서/서비스별 네트워크 격리로 침입 확산 방지
- **유연성**: 네트워크를 논리적으로 관리, 변경 용이
- **비용 절감**: 스위치를 추가하지 않고도 네트워크 분리 가능

### 동작 방식
- **스위치 포트 단위로 VLAN ID** 할당
- 예시:
  - 포트 0/1 ↔ 포트 0/2 : 통신 가능
  - 포트 0/3 ↔ 포트 0/2 : 통신 불가 **(라우터 필요)**

### 기술적 설명
- `스위치`: 유선 공유기와 유사, 안테나 없음
- `2계층(Data Link)`에서 물리적 배치와 관계없이 논리적 분할
  - `PDU`: `Frame`
- `LAN`: 네트워크 대역 내 브로드캐스트 메시지 전달
- `VLAN` 적용 시 **브로드캐스트 트래픽 감소**

### 보안 관점
- 문제 발생 시 **피해 확산 방지 및 고립 가능**
- 물리적 변경 없이 소프트웨어적으로 재배치 가능
- 부서/용도/그룹별 VLAN 설정 가능

---

## 2. VPN (Virtual Private Network)

### 정의
- 공용 인터넷망을 통해 **안전하게 사설 네트워크 접속** 가능
- 가상 사설망(VPN)
- 활용 예시:
  - 회사 업무용 접속
  - 학교망 접속


### 핵심 기술
1. **암호화 (Encryption)**: 데이터 스니핑 방지
2. **터널링 (Tunneling)**: 가상의 보안 경로 설정
3. **인증 (Authentication)**: 사용자/장비 인증 후 접속 허용
   - 장비의 MAC 주소 등 하드웨어 고유값 활용

### 구조 예시

```js
[내 PC] –(암호화된 터널)–> [VPN 서버] –[사설망]–> [회사 내부 자원]
```

### 활용 사례
1. 기업 원격근무
2. 지역 제한 콘텐츠 우회 (예: 해외 넷플릭스)
3. 해킹 실험용: IP 익명화, 공격 추적 회피
  - VPN을 사용하지 않는 경우, 크롤링 시 ip가 차단당할 수 있습니다. 
  - 개인 프로젝트에서 amazon.com을 크롤링한 적이 있었는데, 크롤링 추적과 ban이 까다로웠던 경험이 있습니다. (`Cloudflare Browser Rendering`을 사용했습니다.   `Puppeteer`, `Playwright` 사용)


### 추가 정보
- PPTP: 크롤링 등에서 사용, 속도 및 접속 환경 중요

❓ `PPTP`: Point-to-Point Protocol

PPTP가 궁금하여 검색해보았습니다. 속도가 빠르고, 보안이 취약한 초기 VPN으로 이해했습니다.

`PPTP`(지점 간 터널링 프로토콜)는 1990년대 Microsoft에서 개발한 **초기 VPN** 프로토콜입니다. 심각한 보안 취약점과 부실한 암호화 방식으로 인해 **현재는 사용이 권장되지 않습니다**. 

- 개발 목적: 인터넷과 같은 공용 네트워크를 통해 개인 네트워크에 안전하게 접근하고 데이터를 전송할 수 있도록 하는 VPN 연결을 설정하기 위해 개발되었습니다. 
- 작동 방식: TCP 포트 1723에서 작동하며, PPP(Point-to-Point Protocol) 패킷을 캡슐화하여 터널링하는 방식으로 작동합니다. 
- 장점:
  - 간편한 설정 및 사용: Windows를 포함한 다양한 운영 체제와 호환되어 쉽게 설정하고 사용할 수 있습니다. 
  - 빠른 속도: 다른 VPN 프로토콜에 비해 빠르고 가벼운 편입니다. 
- 단점 및 보안 취약점:
  - 취약한 보안: 암호화 수준이 낮고, 짧은 암호화 키를 사용하며, MS-CHAP 인증 방식 등 보안상 약점이 많습니다. 
  - 접근 취약성: 현대의 컴퓨터로도 단시간 내에 PPTP 연결을 해독할 수 있으며, 사이버 공격에 매우 취약합니다. 
  - 권장되지 않음: 현재는 보안 문제로 인해 PPTP 사용을 피하고, OpenVPN이나 L2TP/IPsec, WireGuard 등 더 안전한 VPN 프로토콜을 사용하는 것이 권장됩니다. 

---

## 3. TOR (Onion Routing)

`TOR`는 대표적인 IP 익명화 프로그램입니다.

구조:

```js
[Entry 노드] → [Middle 노드] → [Exit 노드] → [목적지 서버]
```

`Exit` 노드만 노출하여 `INPUT`의 `src` 노드를 감춥니다.
 - Destination 서버에서는 Exit 노드, 마지막 IP만 보이고 클라이언트의 원 IP는 볼 수 없다는 뜻으로 이해했습니다.  

---

## 4. DeepWeb / DarkWeb

- **딥웹**: 일반 검색엔진으로 찾을 수 없는 인터넷 영역
- **다크웹**: 토르 브라우저를 사용하여 접속
- 국가기관 및 회사 등 보안이 중요한 자료들이 불법적으로 유통되는 경우도 포함됩니다.

---

## 5. UTM (**Unified Threat Management**)

- 여러 보안 기능을 통합 제공하는 보안 장비
- 참고: [통합 보안 장비(UTM) | 보안1번지](https://www.boan1st.com/UTM/)


---

## 6. Proxy Server

### 정의
- 클라이언트와 서버 사이에서 요청과 응답을 중계
- 쉽게 말해 **대리 서버** (`Surrogate`)

### 구조 예시

```js
[클라이언트] ⇄ [프록시 서버] ⇄ [웹 서버]
```

### 동작
- 사용자가 웹사이트 접속 시 프록시 서버를 먼저 통해 요청 전달
- 프록시 서버가 대상 서버에 요청, 응답 반환
- 사용자의 실제 IP 숨김, 프록시 IP 노출

### 활용
- 무료 프록시: [CroxyProxy](https://www.croxyproxy.com/)
- Python 활용: 무료 프록시 서버를 이용한 크롤링 가능
- 예시: 방금 확인된 무료 프록시 목록 활용

### Reference

함께 보면 좋은 내용:
- `Cloudflare`의 교육 자료 또한 잘 정리되어있습니다. 이번 기회에 저도 복습하고 있습니다:
  https://www.cloudflare.com/ko-kr/learning/cdn/glossary/reverse-proxy/
- 이전에 웹 서버 프록시에 관한 글을 이전에 작성했습니다. 함께 살펴보면 좋을 것 같아 공유합니다:
  https://blog.leetekwoo.com/blog/66

---
